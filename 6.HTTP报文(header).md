### HTTP报文header

HTTP协议的核心在于传输的报文内容

##### 报文结构(必须有header)

HTTP是一个纯文本的协议，头数据都是ASCII的文本

请求报文/响应报文=起始行(请求或响应的基本信息)+头部字段集合(key-value形式详细说明报文)+消息正文

请求头/响应头=起始行+头部字段

消息正文=实体(body)

header后面必须有一个空行(CRLF)

![image-20200915213745265](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20200915213745265.png)

##### 请求行(描述客户端想要如何操作服务端的资源)

- [ ] 请求方法(GET/POST)

- [ ] 请求目标(URL),标记了请求方法要操作的资源

- [ ] 版本号(HTTP协议版本)

- [ ] 常用空格(space)分隔

  ```javascript
  GET / HTTP/1.1
  请求方法是GET
  请求目标是/
  版本号是HTTP/1.1
  ```

##### 状态行(服务器响应的状态)

- [ ] 版本号(HTTP的版本)
- [ ] 状态码(三位数，表示处理的结果)，200是成功，500是服务器错误
- [ ] 原因(详细的解释文字)

##### 头部字段

key-value形式，用“:”分割，最后用CRLF表示字段结束

```JavaScript
Host:127.0.0.1//key是host，value是127.0.0.1
//字段名不分大小写
//字段名不允许出现空格，可以用-，不能用_
//字段名后紧跟:不能有空格，但:后可以有多个空格
//字段顺序无意义
//字段不能重复
```

常用头字段：

- 通用字段(请求头和响应头)

  - [ ] Date(通常出现在响应头中):表示HTTP报文创建时间

- 请求字段(请求头,表示请求信息或附加条件)

  - [ ] **host字段(请求字段):HTTP/1.1要求必须出现的字段**(请求头中必须有host)
  - [ ] host字段告诉服务器这个请求由哪个主机处理，**Host的存在就是为了实现虚拟WEB服务器，我的理解就是实现负载均衡。**
  - [ ] **User-Agent**:使用字符串来描述HTTP请求客户端，服务器据此返回适合浏览器显示页面

- 响应字段(响应头,说明响应报文信息)

  - [ ] Server(响应字段):告诉客户端当前提供Web服务的软件名称和版本号

- 实体字段(描述body额外信息)

  - [ ] Content-length：报文中body的长度，当没有这个字段，body就是不定长的，需要用chunked方式分段传输

  