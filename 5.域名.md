### DNS（名字空间系统）

##### 形式:一串'.'分割的多个单词

最右边是顶级域名，最左边是主机名

用来代替IP地址，便于理解

本质：名字空间系统，使用多级域名可以划分出不同的国家，地区，组织，公司，部门。每个域名都是独一无二的，可以作为身份的标识

```
//极客时间域名
//time:主机名，greekbang:二级名，org:顶级域名
time.greekbang.org
```

扩展：Java的包机制采用域名作为命名空间，采用了反序。（极客时间的包名“org.greekbang.time”）

##### 域名解析:域名转换为IP地址

域名结构：

- [ ] 根域名服务器：管理顶级域名服务器，返回"com","net","cn"
- [ ] 顶级域名服务器：管理各自域名下的权威域名服务器
- [ ] 权威域名服务器：管理域名下的主机

![image-20200915131941595](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20200915131941595.png)

```
//访问www.apple.com
/**
① 访问根域名服务器在(众所周知)-----com的顶级域名服务器的地址
②访问com顶级域名服务器----apple.com域名服务器地址
③访问apple.com-----得到www.apple.com地址
*/
```

**减轻域名解析压力（提升效率）：**

- [ ] 野生服务器（非权威域名服务器）：缓存之前的查询结果，有了记录，就无需向根域名服务器发起查询，可以直接返回
- [ ] 操作系统缓存：再次在浏览器中输入相同网址时，从操作系统得到IP地址
- [ ] 主机映射文件：hosts文件，当操作系统缓存找不到DNS记录，就会找这个文件
- [ ] 发起请求顺序：浏览器缓存--》操作系统缓存--》hosts文件---》野生域名服务器--》DNS

##### 域名新用法

- 重定向：对外服务的域名不变，主机IP地址改变。当主机下线时，更改DNS记录，让域名指向其他机器。
- 搭建内部使用的DNS，作为名字服务器
- 域名的负载均衡
  - [ ] 域名解析可以返回多个IP地址。*一个域名对应多个主机，客户端收到多个IP，使用轮询算法依次向服务器发出请求，实现负载均衡。*
  - [ ] 域名解析可以配置内部的策略，返回离客户端最近的主机，返回质量最好的主机。在DNS端把请求发送到不同服务器，实现负载均衡。

##### 恶意DNS

- <u>域名屏蔽</u>:对域名不解析，或者返回错误
- <u>域名劫持</u>（域名污染）：访问A网站，返回的是B网站